header: "3" "duedit_compatible"
:tiles
object: "120" "0" "0" "1"
object: "120" "1" "0" "1"
object: "120" "2" "0" "1"
object: "120" "3" "0" "1"
object: "120" "4" "0" "1"
object: "120" "5" "0" "1"
object: "122" "6" "0" "1"
object: "122" "7" "0" "1"
object: "120" "8" "0" "1"
object: "120" "9" "0" "1"
object: "120" "10" "0" "1"
object: "120" "11" "0" "1"
object: "120" "12" "0" "1"
object: "120" "13" "0" "1"
object: "120" "14" "0" "1"
object: "120" "15" "0" "1"
object: "120" "0" "1" "1"
object: "46" "1" "1" "1"
object: "46" "2" "1" "1"
object: "46" "3" "1" "1"
object: "1001" "4" "1" "1"
object: "122" "5" "1" "1"
object: "122" "6" "1" "1"
object: "122" "7" "1" "1"
object: "46" "8" "1" "1"
object: "46" "9" "1" "1"
object: "46" "10" "1" "1"
object: "46" "11" "1" "1"
object: "46" "12" "1" "1"
object: "46" "13" "1" "1"
object: "120" "14" "1" "1"
object: "120" "15" "1" "1"
object: "120" "0" "2" "1"
object: "46" "1" "2" "1"
object: "122" "2" "2" "1"
object: "122" "3" "2" "1"
object: "122" "4" "2" "1"
object: "122" "5" "2" "1"
object: "122" "6" "2" "1"
object: "122" "7" "2" "1"
object: "46" "8" "2" "1"
object: "46" "9" "2" "1"
object: "46" "10" "2" "1"
object: "46" "11" "2" "1"
object: "46" "12" "2" "1"
object: "46" "13" "2" "1"
object: "120" "14" "2" "1"
object: "120" "15" "2" "1"
object: "120" "0" "3" "1"
object: "46" "1" "3" "1"
object: "46" "2" "3" "1"
object: "46" "3" "3" "1"
object: "46" "4" "3" "1"
object: "120" "5" "3" "1"
object: "122" "6" "3" "1"
object: "46" "7" "3" "1"
object: "46" "8" "3" "1"
object: "46" "9" "3" "1"
object: "46" "10" "3" "1"
object: "46" "11" "3" "1"
object: "46" "12" "3" "1"
object: "46" "13" "3" "1"
object: "120" "14" "3" "1"
object: "120" "15" "3" "1"
object: "120" "0" "4" "1"
object: "120" "1" "4" "1"
object: "120" "2" "4" "1"
object: "120" "3" "4" "1"
object: "46" "4" "4" "1"
object: "113" "5" "4" "1"
object: "46" "6" "4" "1"
object: "46" "7" "4" "1"
object: "46" "8" "4" "1"
object: "46" "9" "4" "1"
object: "46" "10" "4" "1"
object: "46" "11" "4" "1"
object: "46" "12" "4" "1"
object: "46" "13" "4" "1"
object: "120" "14" "4" "1"
object: "120" "15" "4" "1"
object: "120" "0" "5" "1"
object: "46" "1" "5" "1"
object: "201" "1" "5" "1"
object: "201" "1" "5" "1"
object: "46" "2" "5" "1"
object: "201" "2" "5" "1"
object: "46" "3" "5" "1"
object: "201" "3" "5" "1"
object: "46" "4" "5" "1"
object: "201" "4" "5" "1"
object: "113" "5" "5" "1"
object: "46" "6" "5" "1"
object: "46" "7" "5" "1"
object: "46" "8" "5" "1"
object: "46" "9" "5" "1"
object: "46" "10" "5" "1"
object: "46" "11" "5" "1"
object: "46" "12" "5" "1"
object: "46" "13" "5" "1"
object: "120" "14" "5" "1"
object: "120" "15" "5" "1"
object: "120" "0" "6" "1"
object: "46" "1" "6" "1"
object: "201" "1" "6" "1"
object: "201" "1" "6" "1"
object: "46" "2" "6" "1"
object: "201" "2" "6" "1"
object: "46" "3" "6" "1"
object: "201" "3" "6" "1"
object: "46" "4" "6" "1"
object: "201" "4" "6" "1"
object: "201" "4" "6" "1"
object: "113" "5" "6" "1"
object: "46" "6" "6" "1"
object: "120" "7" "6" "1"
object: "46" "8" "6" "1"
object: "46" "9" "6" "1"
object: "46" "10" "6" "1"
object: "46" "11" "6" "1"
object: "46" "12" "6" "1"
object: "46" "13" "6" "1"
object: "120" "14" "6" "1"
object: "120" "15" "6" "1"
object: "120" "0" "7" "1"
object: "46" "1" "7" "1"
object: "201" "1" "7" "1"
object: "201" "1" "7" "1"
object: "46" "2" "7" "1"
object: "201" "2" "7" "1"
object: "46" "3" "7" "1"
object: "201" "3" "7" "1"
object: "46" "4" "7" "1"
object: "201" "4" "7" "1"
object: "201" "4" "7" "1"
object: "113" "5" "7" "1"
object: "46" "6" "7" "1"
object: "120" "7" "7" "1"
object: "46" "8" "7" "1"
object: "46" "9" "7" "1"
object: "46" "10" "7" "1"
object: "46" "11" "7" "1"
object: "46" "12" "7" "1"
object: "46" "13" "7" "1"
object: "120" "14" "7" "1"
object: "120" "15" "7" "1"
object: "120" "0" "8" "1"
object: "46" "1" "8" "1"
object: "201" "1" "8" "1"
object: "201" "1" "8" "1"
object: "46" "2" "8" "1"
object: "201" "2" "8" "1"
object: "46" "3" "8" "1"
object: "201" "3" "8" "1"
object: "46" "4" "8" "1"
object: "201" "4" "8" "1"
object: "201" "4" "8" "1"
object: "113" "5" "8" "1"
object: "46" "6" "8" "1"
object: "46" "7" "8" "1"
object: "46" "8" "8" "1"
object: "46" "9" "8" "1"
object: "46" "10" "8" "1"
object: "46" "11" "8" "1"
object: "46" "12" "8" "1"
object: "46" "13" "8" "1"
object: "120" "14" "8" "1"
object: "120" "15" "8" "1"
object: "120" "0" "9" "1"
object: "46" "1" "9" "1"
object: "201" "1" "9" "1"
object: "201" "1" "9" "1"
object: "46" "2" "9" "1"
object: "201" "2" "9" "1"
object: "46" "3" "9" "1"
object: "201" "3" "9" "1"
object: "46" "4" "9" "1"
object: "201" "4" "9" "1"
object: "201" "4" "9" "1"
object: "113" "5" "9" "1"
object: "46" "6" "9" "1"
object: "46" "7" "9" "1"
object: "205" "7" "9" "1"
object: "46" "8" "9" "1"
object: "46" "9" "9" "1"
object: "46" "10" "9" "1"
object: "46" "11" "9" "1"
object: "46" "12" "9" "1"
object: "46" "13" "9" "1"
object: "120" "14" "9" "1"
object: "120" "15" "9" "1"
object: "120" "0" "10" "1"
object: "46" "1" "10" "1"
object: "201" "1" "10" "1"
object: "201" "1" "10" "1"
object: "46" "2" "10" "1"
object: "201" "2" "10" "1"
object: "201" "2" "10" "1"
object: "46" "3" "10" "1"
object: "201" "3" "10" "1"
object: "201" "3" "10" "1"
object: "46" "4" "10" "1"
object: "201" "4" "10" "1"
object: "201" "4" "10" "1"
object: "120" "5" "10" "1"
object: "46" "6" "10" "1"
object: "46" "7" "10" "1"
object: "46" "8" "10" "1"
object: "46" "9" "10" "1"
object: "46" "10" "10" "1"
object: "46" "11" "10" "1"
object: "46" "12" "10" "1"
object: "46" "13" "10" "1"
object: "120" "14" "10" "1"
object: "120" "15" "10" "1"
object: "120" "0" "11" "1"
object: "120" "1" "11" "1"
object: "120" "2" "11" "1"
object: "120" "3" "11" "1"
object: "120" "4" "11" "1"
object: "120" "5" "11" "1"
object: "120" "6" "11" "1"
object: "120" "7" "11" "1"
object: "120" "8" "11" "1"
object: "120" "9" "11" "1"
object: "120" "10" "11" "1"
object: "120" "11" "11" "1"
object: "120" "12" "11" "1"
object: "120" "13" "11" "1"
object: "120" "14" "11" "1"
object: "120" "15" "11" "1"
:metadata
set_var: "name" "Deepest Abyss"
set_var: "story1" "The corpse of the Arch Evil explodes into 50 shades of"
set_var: "story2" "bloody mess and in the same instant all the beasts of"
set_var: "story3" "Hell disappear... Just to regroup around the corner!"
set_var: "story4" " "
set_var: "story5" "You feel how the spirit of the Arch Evil powers you"
set_var: "story6" "as you prepare for the Hell's last stand..."
#script 1
# // Boss for "power-up only" mode
# 
# set('health', 50)
# set('fire_rate', 10)
# set('speed', 3)
# 
# e.on(time_one_time).is(1).do(set_waypoint).to('12;2')
# set_waypoint_sequence(['12;2', '9;2', '12;9', '7;9'])
# 
# let _destroy_wall_time1 = 1000 * 5
# let _destroy_wall_time2 = 1000 * 15
# 
# function clear_wall(x, y, time) {
#    e.on(time_one_time).is(ms(time)).do(modify_terrain).to(`x = ${x}, y = ${y}, terrain_type = floor`)
# }
# 
# clear_wall(1, 4, _destroy_wall_time2)
# clear_wall(2, 4, _destroy_wall_time1)
# clear_wall(3, 4, _destroy_wall_time2)
# clear_wall(2, 2, _destroy_wall_time1)
# clear_wall(3, 2, _destroy_wall_time2)
# clear_wall(4, 2, _destroy_wall_time1)
# 
# clear_wall(5, 4, _destroy_wall_time2)
# clear_wall(5, 5, _destroy_wall_time2)
# clear_wall(5, 6, _destroy_wall_time2)
# clear_wall(5, 7, _destroy_wall_time2)
# clear_wall(5, 8, _destroy_wall_time2)
# clear_wall(5, 9, _destroy_wall_time2)
# 
# e.on(time_one_time).is(ms(_destroy_wall_time2)).do(start_secondary_timer).to('time = 0')
# 
# // Use secondary timer because it can be stopped
# 
# function circfire(time, ndir=8, intens=1) {
#    e.on(secondary_timer).is(ms(time)).do(fire_in_circle).to(`number_of_directions = ${ndir}, intensity = ${intens}`)
# }
# 
# circfire(2000)
# circfire(4000)
# circfire(6000)
# circfire(8000)
# circfire(10000, 16, 3)
# e.on(secondary_timer).is(ms(10000)).do(start_secondary_timer).to('time = 0')
# 
# // Death
# e.on(health).is(0).do(modify_terrain).to('x = 14, y = 5, terrain_type = level_exit')
# e.on(health).is(0).do(modify_terrain).to('x = 14, y = 6, terrain_type = level_exit')
# e.on(health).is(0).do(stop_secondary_timer).to('')
#end_script
script_start: "1"
script_line: "health 50 "
script_line: "fire_rate 10 "
script_line: "speed 3 "
script_line: "player_initial_gold -1 "
script_line: "event"
script_line: "event_trigger time_one_time 1"
script_line: "event_action set_waypoint 12 2 1"
script_line: "event"
script_line: "event_trigger waypoint_reached 1"
script_line: "event_action set_waypoint 9 2 2"
script_line: "event"
script_line: "event_trigger waypoint_reached 2"
script_line: "event_action set_waypoint 12 9 3"
script_line: "event"
script_line: "event_trigger waypoint_reached 3"
script_line: "event_action set_waypoint 7 9 4"
script_line: "event"
script_line: "event_trigger waypoint_reached 4"
script_line: "event_action set_waypoint 12 2 1"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 1 4 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 41"
script_line: "event_action modify_terrain 2 4 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 3 4 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 41"
script_line: "event_action modify_terrain 2 2 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 3 2 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 41"
script_line: "event_action modify_terrain 4 2 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 5 4 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 5 5 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 5 6 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 5 7 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 5 8 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action modify_terrain 5 9 0 0 0 0 0 floor"
script_line: "event"
script_line: "event_trigger time_one_time 125"
script_line: "event_action start_secondary_timer 0"
script_line: "event"
script_line: "event_trigger secondary_timer 16"
script_line: "event_action fire_in_circle 8 1"
script_line: "event"
script_line: "event_trigger secondary_timer 33"
script_line: "event_action fire_in_circle 8 1"
script_line: "event"
script_line: "event_trigger secondary_timer 50"
script_line: "event_action fire_in_circle 8 1"
script_line: "event"
script_line: "event_trigger secondary_timer 66"
script_line: "event_action fire_in_circle 8 1"
script_line: "event"
script_line: "event_trigger secondary_timer 83"
script_line: "event_action fire_in_circle 16 3"
script_line: "event"
script_line: "event_trigger secondary_timer 83"
script_line: "event_action start_secondary_timer 0"
script_line: "event"
script_line: "event_trigger health 0"
script_line: "event_action modify_terrain 14 5 0 0 0 0 0 level_exit"
script_line: "event"
script_line: "event_trigger health 0"
script_line: "event_action modify_terrain 14 6 0 0 0 0 0 level_exit"
script_line: "event"
script_line: "event_trigger health 0"
script_line: "event_action stop_secondary_timer "
script_line: "end"
